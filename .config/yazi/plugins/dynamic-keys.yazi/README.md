# Dynamic Keys Plugin

A Yazi plugin that provides shortcut-based navigation and file operations, dynamically loading shortcuts from your auto-generated shortcuts file.

## Features

- **Navigation**: Quick directory navigation with the `g` key
- **File Operations**: Copy and move files to shortcut destinations with `Y` and `M` keys
- **Dynamic Loading**: Loads shortcuts from `~/.cache/shortcuts.lua` (generated by `$GSC/shortcutgen`)
- **Progressive Input**: Progressive input matching with meaningful descriptions (e.g., "Navigate to CV", "Copy to Downloads")
- **Real-time Feedback**: Live feedback as you type shortcuts
- **Automatic Completion**: Auto-completion when a unique match is found
- **Confirmation Dialogs**: User confirmation for file operations to prevent accidents
- **Single Source of Truth**: Maintains consistency across all applications

## Usage

### Navigation
1. Press `g` to activate the navigation shortcut system
2. Select from available shortcuts with descriptive names
3. Continue typing to narrow down options
4. Navigate automatically when a match is found

### File Operations
1. Select files in Yazi first
2. Press `Y` to copy files or `M` to move files to a shortcut destination
3. Select the destination shortcut (same progressive matching as navigation)
4. Confirm the operation when prompted
5. Files will be copied/moved to the destination

## Configuration

The plugin reads shortcuts from `~/.cache/shortcuts.lua` which should contain a table with entries like:

```lua
return {
    { name = "CV", dir = "/path/to/cv", keys = "cv" },
    { name = "Config", dir = "/path/to/config", keys = "cf" },
    { name = "Downloads", dir = "/home/user/Downloads", keys = "dl" },
    { name = "Pictures", dir = "/home/user/Pictures", keys = "pic" },
    -- ...
}
```

This file is automatically generated by `$GSC/shortcutgen` at login, maintaining consistency across all your applications.

## Key Bindings

Add these to your `keymap.toml`:

```toml
[[mgr.prepend_keymap]]
on = "g"
run = "plugin dynamic-keys --args=navigate"
desc = "Navigate to shortcut"

[[mgr.prepend_keymap]]
on = "Y"
run = "plugin dynamic-keys --args=copy"
desc = "Copy to shortcut"

[[mgr.prepend_keymap]]
on = "M"
run = "plugin dynamic-keys --args=move"
desc = "Move to shortcut"
```