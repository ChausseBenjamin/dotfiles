#!/bin/sh

# raw (basic processing before converting to specific formats)
#   - remove comments
#   - remove empty lines
#   - remove spacing (keep commas between columns)
#   - remove trailing whitespace

raw="$(sed 's/#.*//g;s/,\s*/,/g;/^$/d;s/\s*$//g' <"$XDG_CONFIG_HOME/shortcutrc")"

# lf
echo "$raw" | sed 's/\(.*\),\(.*\),\(.*\)/map g\2 cd \3/' >"$XDG_CONFIG_HOME/lf/shortcuts"

# shell (aliases and environment variables)
echo "$raw" | sed 's/\(.*\),\(.*\),\(.*\)/alias g\2="cd \3"\nexport G\U\2="\3"/' >"$HOME/.cache/zsh-shortcuts"
