#!/bin/sh
# Better battery manager for polybar

# Charging:					
# Discharching:			
# Full: underscore: 
# LOW BATTERY:			

batstatus=$(acpi | tail -n 1)

ico=""

# Change the underscore color according to the charging state
case "$batstatus" in
  *Charging*) ico=" ";;
  *Discharging*) ico="  " ;;
  *) ico="  " ;;
esac

percentage=$( echo "$batstatus" | sed "s/.*\(\ [0-9]*\)\%.*$/\1/; s/\ //g; 1q")

echo "$ico $percentage%"
